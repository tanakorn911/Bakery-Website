{% extends "layout.html" %}

{% block title %}Sweet Dreams Bakery - หน้าหลัก | เบเกอรี่พรีเมียมเชียงราย{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section" id="home">
    <div class="container hero-content">
        <div class="row justify-content-center text-center">
            <div class="col-lg-8">
                <h1 class="hero-title text-white">
                    ยินดีต้อนรับสู่ Sweet Dreams Bakery
                </h1>
                <p class="hero-subtitle text-white mb-4">
                    เบเกอรี่พรีเมียมที่ผลิตขนมและเค้กสดใหม่ทุกวัน<br>
                    ด้วยวัตถุดิบคุณภาพสูงและความใส่ใจในทุกรายละเอียด
                </p>
                <div class="hero-cta">
                    <a href="#products" class="btn btn-custom btn-lg me-3">
                        <i class="fas fa-shopping-bag"></i>
                        เลือกซื้อสินค้า
                    </a>
                    <a href="#about" class="btn btn-custom-outline btn-lg">
                        <i class="fas fa-info-circle"></i>
                        เกี่ยวกับเรา
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="features-section py-5" id="features">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-12">
                <h2 class="display-5 mb-3">ทำไมต้องเลือกเรา ?</h2>
                <p class="lead text-muted">คุณภาพและความสดใหม่ที่คุณไว้วางใจได้</p>
            </div>
        </div>
        
        <div class="row gy-4 animate-stagger">
            <div class="col-lg-4 col-md-6">
                <div class="feature-card h-100">
                    <div class="feature-icon">
                        <i class="fas fa-award"></i>
                    </div>
                    <h4 class="mb-3">คุณภาพพรีเมียม</h4>
                    <p class="text-muted">
                        ใช้วัตถุดิบคุณภาพสูงนำเข้าจากต่างประเทศ 
                        ผลิตสดใหม่ทุกวันด้วยสูตรลับที่สืบทอดมายาวนาน
                    </p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="feature-card h-100">
                    <div class="feature-icon">
                        <i class="fas fa-truck-fast"></i>
                    </div>
                    <h4 class="mb-3">จัดส่งรวดเร็ว</h4>
                    <p class="text-muted">
                        บริการจัดส่งถึงบ้านในพื้นที่เชียงราย ภายใน 30 นาที 
                        พร้อมบรรจุภัณฑ์ที่รักษาความสดใหม่
                    </p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="feature-card h-100">
                    <div class="feature-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h4 class="mb-3">ทำด้วยความรัก</h4>
                    <p class="text-muted">
                        ทุกชิ้นงานผ่านการดูแลอย่างพิถีพิถัน 
                        จากเชฟผู้เชี่ยวชาญด้วยประสบการณ์กว่า 15 ปี
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Products Section -->
{% if featured_products %}
<section class="py-5 bg-light" id="featured">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-12">
                <h2 class="display-5 mb-3">สินค้าแนะนำ</h2>
                <p class="lead text-muted">เมนูยอดฮิตที่ลูกค้าชื่นชอบ</p>
            </div>
        </div>
        
        <div class="row gy-4">
            {% for product in featured_products[:4] %}
            <div class="col-lg-3 col-md-6">
                <div class="product-card h-100" data-category="{{ product.category_name }}">
                    <div class="product-image">
                        {% if product.image %}
                            <img src="{{ url_for('static', filename='images/products/' + product.image) }}" 
                                 alt="{{ product.name }}" 
                                 class="img-fluid"
                                 loading="lazy">
                        {% else %}
                            <i class="fas fa-birthday-cake"></i>
                        {% endif %}
                        
                        <div class="product-overlay">
                            <a href="{{ url_for('product_detail', product_id=product.id) }}" 
                               class="btn btn-light btn-sm quick-view">
                                <i class="fas fa-eye me-1"></i>ดูรายละเอียด
                            </a>
                        </div>
                    </div>
                    
                    <div class="product-body">
                        <div class="product-category">{{ product.category_name }}</div>
                        <h5 class="product-name">{{ product.name }}</h5>
                        
                        {% if product.description %}
                            <p class="product-description">{{ product.description }}</p>
                        {% endif %}
                        
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="product-price">{{ "%.0f"|format(product.price) }} บาท</div>
                            <button class="btn btn-custom btn-sm add-to-cart"
                                    data-product-id="{{ product.id }}"
                                    data-product-name="{{ product.name }}"
                                    data-product-price="{{ product.price }}">
                                <i class="fas fa-cart-plus"></i>
                                เพิ่ม
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-5">
            <a href="#products" class="btn btn-primary btn-lg">
                <i class="fas fa-th-large me-2"></i>ดูสินค้าทั้งหมด
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- All Products Section -->
<section class="py-5" id="products">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-12">
                <h2 class="display-5 mb-3">สินค้าทั้งหมด</h2>
                <p class="lead text-muted">เลือกจากขนมและเครื่องดื่มคุณภาพพรีเมียมของเรา</p>
            </div>
        </div>
        
        <!-- Category Filter -->
        {% if categories %}
        <div class="row mb-4">
            <div class="col-12">
                <div class="d-flex flex-wrap justify-content-center gap-2">
                    <button class="btn btn-outline-primary category-filter active" data-category="all">
                        <i class="fas fa-th-large me-1"></i>ทั้งหมด
                    </button>
                    {% for category in categories %}
                    <button class="btn btn-outline-primary category-filter" 
                            data-category="{{ category.name }}">
                        <i class="{{ category.icon }} me-1"></i>{{ category.name }}
                    </button>
                    {% endfor %}
                </div>
            </div>
        </div>
        {% endif %}
        
        <!-- Search Bar -->
        <div class="row mb-4">
            <div class="col-lg-6 mx-auto">
                <div class="input-group">
                    <span class="input-group-text">
                        <i class="fas fa-search"></i>
                    </span>
                    <input type="text" class="form-control" id="search-input" 
                           placeholder="ค้นหาสินค้า...">
                </div>
            </div>
        </div>
        
        <!-- Products Grid -->
        {% if products_by_category %}
            {% for category_name, products in products_by_category.items() %}
            <div class="category-section mb-5" data-category="{{ category_name }}">
                <h3 class="mb-4 text-center">
                    <span class="badge bg-primary fs-6 px-4 py-2">{{ category_name }}</span>
                </h3>
                
                <div class="row gy-4">
                    {% for product in products %}
                    <div class="col-lg-3 col-md-6">
                        <div class="product-card h-100" data-category="{{ category_name }}">
                            <div class="product-image">
                                {% if product.image %}
                                    <img src="{{ url_for('static', filename='images/products/' + product.image) }}" 
                                         alt="{{ product.name }}" 
                                         class="img-fluid"
                                         loading="lazy">
                                {% else %}
                                    <i class="fas fa-birthday-cake"></i>
                                {% endif %}
                                
                                <div class="product-overlay">
                                    <a href="{{ url_for('product_detail', product_id=product.id) }}" 
                                       class="btn btn-light btn-sm quick-view">
                                        <i class="fas fa-eye me-1"></i>ดูรายละเอียด
                                    </a>
                                </div>
                            </div>
                            
                            <div class="product-body">
                                <div class="product-category">{{ category_name }}</div>
                                <h5 class="product-name">{{ product.name }}</h5>
                                
                                {% if product.description %}
                                    <p class="product-description">{{ product.description }}</p>
                                {% endif %}
                                
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="product-price">{{ "%.0f"|format(product.price) }} บาท</div>
                                    
                                    {% if product.stock_quantity > 0 %}
                                        <button class="btn btn-custom btn-sm add-to-cart"
                                                data-product-id="{{ product.id }}"
                                                data-product-name="{{ product.name }}"
                                                data-product-price="{{ product.price }}">
                                            <i class="fas fa-cart-plus"></i>
                                            เพิ่ม
                                        </button>
                                    {% else %}
                                        <button class="btn btn-secondary btn-sm" disabled>
                                            <i class="fas fa-times"></i>
                                            หมด
                                        </button>
                                    {% endif %}
                                </div>
                                
                                {% if product.stock_quantity <= 5 and product.stock_quantity > 0 %}
                                    <small class="text-warning">
                                        <i class="fas fa-exclamation-triangle me-1"></i>
                                        เหลือเพียง {{ product.stock_quantity }} ชิ้น
                                    </small>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
            {% endfor %}
        {% else %}
            <div class="text-center py-5">
                <i class="fas fa-shopping-basket fa-3x text-muted mb-3"></i>
                <h4 class="text-muted">ยังไม่มีสินค้า</h4>
                <p class="text-muted">กรุณารอสักครู่ เรากำลังเตรียมสินค้าดี ๆ มาให้คุณ</p>
            </div>
        {% endif %}
    </div>
</section>

<!-- About Section -->
<section class="py-5 bg-gradient-light" id="about">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 mb-4 mb-lg-0">
                <div class="pe-lg-4">
                    <h2 class="display-5 mb-4">เกี่ยวกับ Sweet Dreams Bakery</h2>
                    <p class="lead mb-4">
                        เราเป็นเบเกอรี่ครอบครัวที่ได้รับการยอมรับในเชียงราย 
                        ด้วยประสบการณ์กว่า 15 ปีในการทำขนมและเค้กคุณภาพสูง
                    </p>
                    <div class="row gy-3">
                        <div class="col-sm-6">
                            <div class="d-flex align-items-center">
                                <div class="feature-icon me-3" style="width: 50px; height: 50px; font-size: 1.2rem;">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <div>
                                    <h6 class="mb-1">เปิดทุกวัน</h6>
                                    <small class="text-muted">07:00 - 20:00</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-sm-6">
                            <div class="d-flex align-items-center">
                                <div class="feature-icon me-3" style="width: 50px; height: 50px; font-size: 1.2rem;">
                                    <i class="fas fa-users"></i>
                                </div>
                                <div>
                                    <h6 class="mb-1">ลูกค้า</h6>
                                    <small class="text-muted">5,000+ คนต่อเดือน</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-sm-6">
                            <div class="d-flex align-items-center">
                                <div class="feature-icon me-3" style="width: 50px; height: 50px; font-size: 1.2rem;">
                                    <i class="fas fa-medal"></i>
                                </div>
                                <div>
                                    <h6 class="mb-1">รางวัล</h6>
                                    <small class="text-muted">Best Bakery 2023</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-sm-6">
                            <div class="d-flex align-items-center">
                                <div class="feature-icon me-3" style="width: 50px; height: 50px; font-size: 1.2rem;">
                                    <i class="fas fa-star"></i>
                                </div>
                                <div>
                                    <h6 class="mb-1">คะแนน</h6>
                                    <small class="text-muted">4.8/5 ดาว</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6">
                <div class="position-relative">
                    <div class="bg-primary rounded-circle position-absolute" 
                         style="width: 200px; height: 200px; top: -50px; right: -50px; opacity: 0.1;"></div>
                    <div class="bg-secondary rounded-circle position-absolute" 
                         style="width: 100px; height: 100px; bottom: -30px; left: -30px; opacity: 0.15;"></div>
                    
                    <!-- Placeholder for bakery image -->
                    <div class="bg-light rounded border p-5 text-center">
                        <i class="fas fa-store fa-5x text-primary mb-3"></i>
                        <h5>ร้าน Sweet Dreams Bakery</h5>
                        <p class="text-muted mb-0">เชียงราย, ประเทศไทย</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Section -->
<section class="py-5" id="contact">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-12">
                <h2 class="display-5 mb-3">ติดต่อเรา</h2>
                <p class="lead text-muted">พร้อมให้บริการและตอบคำถามของคุณ</p>
            </div>
        </div>
        
        <div class="row gy-4">
            <div class="col-lg-4 col-md-6">
                <div class="text-center">
                    <div class="feature-icon mx-auto mb-3">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <h5 class="mb-2">ที่อยู่</h5>
                    <p class="text-muted">
                        123 ถนนพหลโยธิน<br>
                        เมือง เชียงราย 57000
                    </p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="text-center">
                    <div class="feature-icon mx-auto mb-3">
                        <i class="fas fa-phone"></i>
                    </div>
                    <h5 class="mb-2">โทรศัพท์</h5>
                    <p class="text-muted">
                        <a href="tel:0891234567" class="text-decoration-none">089-123-4567</a><br>
                        <small>เปิดรับสายทุกวัน 07:00-20:00</small>
                    </p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="text-center">
                    <div class="feature-icon mx-auto mb-3">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <h5 class="mb-2">อีเมล</h5>
                    <p class="text-muted">
                        <a href="mailto:info@sweetdreams-bakery.com" class="text-decoration-none">
                            info@sweetdreams-bakery.com
                        </a><br>
                        <small>ตอบกลับภายใน 24 ชั่วโมง</small>
                    </p>
                </div>
            </div>
        </div>
        
        <div class="row mt-5">
            <div class="col-lg-8 mx-auto">
                <div class="bg-light rounded p-4 text-center">
                    <h5 class="mb-3">ติดตามเราบนโซเชียลมีเดีย</h5>
                    <div class="d-flex justify-content-center gap-3">
                        <a href="#" class="btn btn-outline-primary">
                            <i class="fab fa-facebook me-2"></i>Facebook
                        </a>
                        <a href="#" class="btn btn-outline-primary">
                            <i class="fab fa-instagram me-2"></i>Instagram
                        </a>
                        <a href="#" class="btn btn-outline-primary">
                            <i class="fab fa-line me-2"></i>Line
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
$(document).ready(function() {
    // Smooth scroll for hero CTA button
    $('.hero-cta a[href^="#"]').on('click', function(e) {
        e.preventDefault();
        const target = $($(this).attr('href'));
        if (target.length) {
            $('html, body').animate({
                scrollTop: target.offset().top - 100
            }, 1000);
        }
    });
    
    // Add staggered animation to products
    $('.product-card').each(function(index) {
        $(this).css('animation-delay', (index * 0.1) + 's');
    });
    
    // Update active navigation
    $(window).scroll(function() {
        let current = '';
        $('section[id]').each(function() {
            const sectionTop = $(this).offset().top;
            const sectionHeight = $(this).outerHeight();
            if ($(window).scrollTop() >= sectionTop - 200) {
                current = $(this).attr('id');
            }
        });
        
        $('.nav-link').removeClass('active');
        if (current) {
            $(`.nav-link[href="#${current}"]`).addClass('active');
        }
    });
});
</script>
{% endblock %}